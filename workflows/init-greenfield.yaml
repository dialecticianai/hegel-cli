# Greenfield initialization workflow - scaffold new DDD project
mode: init
start_node: customize_claude

nodes:
  customize_claude:
    prompt: |
      You are initializing a new Dialectic-Driven Development project (Greenfield Mode).

      {{CLAUDE_CUSTOMIZATION}}

      Your task: Create CLAUDE.md with project-specific conventions.
      {{?context_note}}
    transitions:
      - when: customize_claude_complete
        to: vision

  vision:
    prompt: |
      You are in the VISION phase of project initialization (Greenfield Mode).

      {{VISION_WRITING}}

      Your task: Create VISION.md defining product goals and success criteria.
      {{?context_note}}
    transitions:
      - when: vision_complete
        to: architecture

  architecture:
    prompt: |
      You are in the ARCHITECTURE phase of project initialization (Greenfield Mode).

      {{ARCHITECTURE_WRITING}}

      Your task: Create ARCHITECTURE.md defining tech stack and key decisions.
      {{?context_note}}
    transitions:
      - when: architecture_complete
        to: git_init

  git_init:
    prompt: |
      Project initialization nearly complete.

      {{GIT_INITIALIZATION}}

      {{?context_note}}
    transitions:
      - when: git_init_complete
        to: done

  done:
    prompt: |
      Greenfield project initialized successfully.

      Next steps:
      - Review CLAUDE.md, VISION.md, ARCHITECTURE.md
      - Run 'hegel start discovery' to begin first feature exploration

      Project initialization complete.
    transitions: []
